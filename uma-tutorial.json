{"version":3,"kind":"Notebook","sha256":"dae9ccc82a0a9fbe7c46a5b3016dac2e3f1d3299533dd24cf30f48ceab2f97b4","slug":"uma-tutorial","location":"/uma_tutorials/uma_tutorial.md","dependencies":[],"frontmatter":{"title":"UMA Intro Tutorial","kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"jupytext":{"formats":"ipynb,md:myst","text_representation":{"extension":".md","format_name":"myst","format_version":"0.13","jupytext_version":"1.18.1"}},"content_includes_title":false,"authors":[{"nameParsed":{"literal":"FAIR Chemistry & Collaborators","given":"FAIR Chemistry &","family":"Collaborators"},"name":"FAIR Chemistry & Collaborators","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/facebookresearch/fairchem","copyright":"Meta Platforms, Inc","numbering":{"title":{"offset":2}},"source_url":"https://github.com/facebookresearch/fairchem/blob/main/docs/uma_tutorials/uma_tutorial.md","edit_url":"https://github.com/facebookresearch/fairchem/edit/main/docs/uma_tutorials/uma_tutorial.md","exports":[{"format":"md","filename":"uma_tutorial.md","url":"/build/uma_tutorial-a1709fe073aefe2918fa345be0840ec1.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Learning Objectives","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"Kz2kLZD4M6"}],"key":"KIOLViYfHA"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"By the end of this tutorial, you will be able to:","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"nJInXeVSjo"}],"key":"EUlJ43N4wW"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":19,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Set up and configure UMA models with HuggingFace authentication","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"ejOmTqBuGP"}],"key":"x6yKD6NYVI"}],"key":"GRyaf9AtzZ"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Use the FAIRChemCalculator with different task names (omol, oc20, omat)","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"qTVyIfXuoK"}],"key":"JpUAas2J6g"}],"key":"dVCPikP07I"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Perform molecular energy calculations including spin states","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"pZnjSQqto6"}],"key":"ySY6JfDFfV"}],"key":"Kio9Ckciwy"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Run adsorbate relaxations on catalyst surfaces","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"UU83nnPMAP"}],"key":"JTx1W3RUjQ"}],"key":"Q6CQ74EB4C"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Execute bulk relaxations with cell optimization","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"QyYhDDyIQ1"}],"key":"UUtg4RYWKB"}],"key":"JG1F4OGQTn"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Conduct molecular dynamics simulations","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"w6ciOcKn51"}],"key":"lLuWp0QfDx"}],"key":"QvT3dq7tQI"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Calculate adsorption energies with proper reference energies","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"reD1pRuqFS"}],"key":"hTRDrtXsCJ"}],"key":"Wn7JsUYMAv"},{"type":"listItem","spread":true,"position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Compute molecular vibrations and phonon spectra","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"qaZ0G6R8Mz"}],"key":"vaGz0GzwkH"}],"key":"bWfdcvyIOD"},{"type":"listItem","spread":true,"position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Set up and run transition state calculations (NEBs)","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"ScTJlWmc5U"}],"key":"mgMvXT2Zo3"}],"key":"wxLMniGN9Q"}],"key":"qvNRFBu651"}],"key":"HiQcRQPFDj"},{"type":"paragraph","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"This tutorial will walk you through a few examples of how you can use UMA. Each step is covered in more detail elsewhere in the documentation, but this is well suited to a ~1-2 hour tutorial session for researchers new to UMA but with some background in ASE and molecular simulations.","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"R2YEMoaCQJ"}],"key":"BhxMeFPclW"},{"type":"heading","depth":2,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"Before you start / installation","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"HxaDSMxcGX"}],"identifier":"before-you-start-installation","label":"Before you start / installation","html_id":"before-you-start-installation","implicit":true,"key":"p7jWoE5YHY"},{"type":"paragraph","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"You need to get a HuggingFace account and request access to the UMA models.","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"xcEPhG8oHm"}],"key":"F49iNUbsrM"},{"type":"paragraph","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"You need a Huggingface account, request access to ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"wH2ogup92s"},{"type":"link","url":"https://huggingface.co/facebook/UMA","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"https://​huggingface​.co​/facebook​/UMA","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"BhyMdBuAvX"}],"urlSource":"https://huggingface.co/facebook/UMA","key":"tYJ3U3ADZx"},{"type":"text","value":", and to create a Huggingface token at ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"v32kd3cWUV"},{"type":"link","url":"https://huggingface.co/settings/tokens/","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"https://​huggingface​.co​/settings​/tokens/","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"xDwIexK6rA"}],"urlSource":"https://huggingface.co/settings/tokens/","key":"PufRQyp5tx"},{"type":"text","value":" with these permission:","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"DrMIEBs6ck"}],"key":"mllfPb6AA2"},{"type":"paragraph","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"Permissions: Read access to contents of all public gated repos you can access","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"RsKdisDaOg"}],"key":"w4AFr6eOiX"},{"type":"paragraph","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"Then, add the token as an environment variable (using ","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"xpWlgdsffO"},{"type":"inlineCode","value":"huggingface-cli login","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"teNqLFP5U1"},{"type":"text","value":":","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"YLIBczm1wA"}],"key":"ZVUavxOSIY"}],"key":"aaDMD4bSWP"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Enter token via huggingface-cli\n! huggingface-cli login","visibility":"show","key":"tVGjzpTjSx"},{"type":"outputs","id":"JijpAPZTV26CLgaEVM78x","children":[],"visibility":"show","key":"V62sVkEUvj"}],"data":{"tags":["skip-execution"]},"visibility":"show","key":"MA7Xj4AT8j"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"or you can set the token via HF_TOKEN variable:","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"EYu899N874"}],"key":"XE9aDfKfJt"}],"key":"HqmZPdJ2QF"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Set token via env variable\nimport os\nos.environ['HF_TOKEN'] = 'MYTOKEN'","visibility":"show","key":"tjtcaFViez"},{"type":"outputs","id":"INZOM4csZYDpN5NiGkZsw","children":[],"visibility":"show","key":"u6PTVluwOC"}],"data":{"tags":["skip-execution"]},"visibility":"show","key":"RHKp0Z9I9c"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"text","value":"Installation process","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"bbiQdjBIAg"}],"identifier":"installation-process","label":"Installation process","html_id":"installation-process","implicit":true,"key":"EZ5fy3450r"},{"type":"paragraph","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"text","value":"It may be enough to use ","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"oUWT0IaRFP"},{"type":"inlineCode","value":"pip install fairchem-core","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"kbTaUOObIT"},{"type":"text","value":". This gets you the latest version on PyPi (","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"szFkJJbBg2"},{"type":"link","url":"https://pypi.org/project/fairchem-core/","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"text","value":"https://​pypi​.org​/project​/fairchem​-core/","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"vBjGDkP6Wk"}],"urlSource":"https://pypi.org/project/fairchem-core/","key":"p3rOeaUOJ0"},{"type":"text","value":")","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"a3V3Bwn7eB"}],"key":"LeJZqTd6S9"},{"type":"paragraph","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"children":[{"type":"text","value":"Here we install some sub-packages. This can take 2-5 minutes to run.","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"key":"v6tpKmW32K"}],"key":"ig4911FKz1"}],"key":"Ejx9ljAHKs"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"! pip install fairchem-core fairchem-data-oc fairchem-applications-cattsunami x3dase","visibility":"show","key":"sVTzMzipmu"},{"type":"outputs","id":"qdID803Gx5XW_BtJxPDyJ","children":[],"visibility":"show","key":"pSfPWbt3Pc"}],"data":{"tags":["skip-execution"]},"visibility":"show","key":"Uq0Qiomgfm"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Check that packages are installed\n!pip list | grep fairchem","key":"P054GXrr0R"},{"type":"outputs","id":"Pqeew9wFsjrtEIGweY02p","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"fairchem-applications-cattsunami   1.1.2.dev182+gbafec1089\r\nfairchem-core                      2.14.1.dev13+gbafec1089\r\nfairchem-data-oc                   1.0.3.dev182+gbafec1089\r\nfairchem-data-omat                 0.2.1.dev87+gbafec1089\r\n"},"key":"JqVvnmOD4v"}],"key":"zKlc8FLGHc"}],"key":"Dfcc36fUKj"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import fairchem.core\n\nfairchem.core.__version__","key":"CERfTpaB9a"},{"type":"outputs","id":"ayF1botXFbBu5zkBh7oTP","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":2,"metadata":{},"data":{"text/plain":{"content":"'2.14.1.dev13+gbafec1089'","content_type":"text/plain"}}},"key":"fOT2NQmmhL"}],"key":"l5rhbu4xT0"}],"key":"kqMrH354OQ"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"children":[{"type":"text","value":"Illustrative examples","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"key":"PLzN1kBSvQ"}],"identifier":"illustrative-examples","label":"Illustrative examples","html_id":"illustrative-examples","implicit":true,"key":"sBAkLog43T"},{"type":"paragraph","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"children":[{"type":"text","value":"These should just run, and are here to show some basic uses.","position":{"start":{"line":85,"column":1},"end":{"line":85,"column":1}},"key":"Dy3oxitNeg"}],"key":"rSVrlJ8YHl"},{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Critical Points","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"Xe25Bmr9vt"}],"key":"msne3FCUiq"},{"type":"paragraph","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"children":[{"type":"text","value":"When using UMA, remember these key steps:","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"i6L2kIOMpA"}],"key":"LQQtZF72IA"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":89,"column":1},"end":{"line":91,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Create a calculator using ","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"B7LmNMPdXd"},{"type":"inlineCode","value":"pretrained_mlip.get_predict_unit()","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"ZQSmHFK1Mb"}],"key":"nQjKXsVPmz"}],"key":"qHZOTMa225"},{"type":"listItem","spread":true,"position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Specify the appropriate ","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"xWTEsVNM3B"},{"type":"strong","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"children":[{"type":"text","value":"task_name","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"C86new9kTg"}],"key":"ltBDaQC7Oz"},{"type":"text","value":" for your system (omol, oc20, omat, odac, omc)","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"AtplmBpVx7"}],"key":"gUDaYfZlFP"}],"key":"rU3Lydyo7w"},{"type":"listItem","spread":true,"position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Use the calculator like any other ASE calculator","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"ckZlzOIMzx"}],"key":"NjxM9OQYI4"}],"key":"C18sM3IAqi"}],"key":"RNAwOsaFyl"}],"key":"PaBmDX6Bqw"},{"type":"heading","depth":3,"position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"children":[{"type":"text","value":"Spin gap energy - OMOL","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"s5OVkA5m96"}],"identifier":"spin-gap-energy-omol","label":"Spin gap energy - OMOL","html_id":"spin-gap-energy-omol","implicit":true,"key":"qEVCrci7oD"},{"type":"paragraph","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"text","value":"This is the difference in energy between a triplet and single ground state for a CH2 radical. This downloads a ~1GB checkpoint the first time you run it.","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"V0JMyIF79j"}],"key":"PAgjrDgh1v"},{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"OMOL Task Requirements","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"NTvM1uwXGQ"}],"key":"RWmuKAQWcs"},{"type":"paragraph","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"children":[{"type":"text","value":"For molecular calculations with the ","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"x4X9MV0LUp"},{"type":"inlineCode","value":"omol","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"MjcuM8N0Ey"},{"type":"text","value":" task, you must set spin and charge in ","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"xN9LZ809XL"},{"type":"inlineCode","value":"atoms.info","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"GYaidz0RtT"},{"type":"text","value":":","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"DCNojxvpEq"}],"key":"FBUuOvhWno"},{"type":"code","lang":"python","value":"atoms.info.update({\"spin\": 1, \"charge\": 0})","position":{"start":{"line":100,"column":1},"end":{"line":102,"column":1}},"key":"hFoVR5LPZ5"},{"type":"paragraph","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"children":[{"type":"text","value":"Spin is the multiplicity (1 for singlet, 2 for doublet, 3 for triplet, etc.).","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"ox4HpGdSx2"}],"key":"sNiXTd0aOq"}],"key":"pmnKD0gzE8"},{"type":"paragraph","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"children":[{"type":"text","value":"We don’t set a device here, so we get a warning about using a CPU device. You can ignore that. If a CUDA environment is available, a GPU may be used to speed up the calculations.","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"kiCYPIcYpV"}],"key":"AQOKsy6KTz"}],"key":"aQ8AkVqoWJ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from fairchem.core import FAIRChemCalculator, pretrained_mlip\n\npredictor = pretrained_mlip.get_predict_unit(\"uma-s-1\")","key":"p3LpxbG4xs"},{"type":"outputs","id":"A7KJQWAavoAz5E39ncrbt","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"WARNING:root:device was not explicitly set, using device='cuda'.\n"},"key":"r6EVmwiC3Y"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"WARNING:root:If 'dataset_list' is provided in the config, the code assumes that each dataset maps to itself. Please use 'dataset_mapping' as 'dataset_list' is deprecated and will be removed in the future.\n"},"key":"iZGqCJP4dI"}],"key":"mkU8rpMu94"}],"key":"BZxJLh9mPT"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from ase.build import molecule\n\n#  singlet CH2\nsinglet = molecule(\"CH2_s1A1d\")\nsinglet.info.update({\"spin\": 1, \"charge\": 0})\nsinglet.calc = FAIRChemCalculator(predictor, task_name=\"omol\")\n\n#  triplet CH2\ntriplet = molecule(\"CH2_s3B1d\")\ntriplet.info.update({\"spin\": 3, \"charge\": 0})\ntriplet.calc = FAIRChemCalculator(predictor, task_name=\"omol\")\n\nprint(triplet.get_potential_energy() - singlet.get_potential_energy())","key":"SVz2T2X00M"},{"type":"outputs","id":"Vey452EmyUGatUvOW1Q4C","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"-0.5508370399475098\n"},"key":"ObFOzMhumm"}],"key":"TCEb99CciJ"}],"key":"pJq62hfT59"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"text","value":"Example of adsorbate relaxation - OC20","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"v2QtHx5dlP"}],"identifier":"example-of-adsorbate-relaxation-oc20","label":"Example of adsorbate relaxation - OC20","html_id":"example-of-adsorbate-relaxation-oc20","implicit":true,"key":"nvhfFcnyLT"},{"type":"paragraph","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"text","value":"Here we just setup a Cu(100) slab with a CO on it and relax it.","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"A4eAWWw7AP"}],"key":"hUi510ombG"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"zRXuFJFEEj"}],"key":"LOzvZTFD66"},{"type":"paragraph","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"children":[{"type":"text","value":"This is an OC20 task because it involves a slab with an adsorbate. The OC20 task is trained specifically for heterogeneous catalysis systems and understands the surface-adsorbate interaction.","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"kdc38VpOR9"}],"key":"Qynxi7co2C"}],"key":"eT1y4crcOh"},{"type":"paragraph","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"children":[{"type":"text","value":"We specify an explicit device in the predictor here, and avoid the warning.","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"bRQCdzSFrW"}],"key":"aAak2knWok"}],"key":"BbHlaGzvXh"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from ase.build import add_adsorbate, fcc100, molecule\nfrom ase.optimize import LBFGS\nfrom fairchem.core import FAIRChemCalculator, pretrained_mlip\n\npredictor = pretrained_mlip.get_predict_unit(\"uma-s-1\")\ncalc = FAIRChemCalculator(predictor, task_name=\"oc20\")\n\n# Set up your system as an ASE atoms object\nslab = fcc100(\"Cu\", (3, 3, 3), vacuum=8, periodic=True)\n\nadsorbate = molecule(\"CO\")\nadd_adsorbate(slab, adsorbate, 2.0, \"bridge\")\nslab.calc = calc\n\n# Set up LBFGS dynamics object\nopt = LBFGS(slab)\nopt.run(0.05, 100)\nprint(slab.get_potential_energy())","key":"aJXv8R2Ubi"},{"type":"outputs","id":"rM9Lqj7zjtMwrPWRy_rLT","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"WARNING:root:device was not explicitly set, using device='cuda'.\n"},"key":"gM2lSAsFdk"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"WARNING:root:If 'dataset_list' is provided in the config, the code assumes that each dataset maps to itself. Please use 'dataset_mapping' as 'dataset_list' is deprecated and will be removed in the future.\n"},"key":"H0sCxpCFLx"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"       Step     Time          Energy          fmax\nLBFGS:    0 22:37:22      -89.596203       11.451673\nLBFGS:    1 22:37:22      -92.497567        6.543858\nLBFGS:    2 22:37:22      -92.624425        7.536288\n"},"key":"nKXWtRewiB"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:    3 22:37:22      -93.000906        3.715976\nLBFGS:    4 22:37:23      -93.158685        3.479954\nLBFGS:    5 22:37:23      -93.264148        2.256767\n"},"key":"xWPk3tQJOE"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:    6 22:37:23      -93.505247        1.133170\nLBFGS:    7 22:37:23      -93.595935        0.991856\nLBFGS:    8 22:37:23      -93.705357        0.683607\n"},"key":"J0xyUGBoXA"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:    9 22:37:23      -93.791548        0.506915\nLBFGS:   10 22:37:23      -93.837929        0.363997\nLBFGS:   11 22:37:23      -93.856807        0.349533\n"},"key":"mBjWFXpkML"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:   12 22:37:23      -93.881771        0.498644\nLBFGS:   13 22:37:23      -93.900196        0.432912\nLBFGS:   14 22:37:23      -93.910015        0.156310\n"},"key":"A1hHZSLt5m"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:   15 22:37:24      -93.915885        0.170003\nLBFGS:   16 22:37:24      -93.922146        0.211720\nLBFGS:   17 22:37:24      -93.929014        0.260811\n"},"key":"nZ7vtDQjWZ"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:   18 22:37:24      -93.935162        0.183895\nLBFGS:   19 22:37:24      -93.938071        0.057447\nLBFGS:   20 22:37:24      -93.938499        0.039155\n-93.93849899606094\n"},"key":"kVIoDlFdmy"}],"key":"PzAL4VTC8u"}],"key":"RvfbC3SD6u"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"children":[{"type":"text","value":"Example bulk relaxation - OMAT","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"v2LnfyHOZr"}],"identifier":"example-bulk-relaxation-omat","label":"Example bulk relaxation - OMAT","html_id":"example-bulk-relaxation-omat","implicit":true,"key":"madRjfeDKS"},{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"OMAT Task for Bulk Materials","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"key":"JeqJms07Hc"}],"key":"wzHG5POZf8"},{"type":"paragraph","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"liGBfXqssS"},{"type":"inlineCode","value":"omat","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"U0R5YYzzVm"},{"type":"text","value":" task is trained on bulk inorganic materials and supports stress tensor predictions, enabling cell optimization with filters like ","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"FattOoLkIZ"},{"type":"inlineCode","value":"FrechetCellFilter","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"qJs3R17M2E"},{"type":"text","value":". This is essential for finding equilibrium lattice constants.","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"AdF9iXoppj"}],"key":"e1ekZqxPDY"}],"key":"yTmta1cMZM"}],"key":"w4Vri6YKTz"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from ase.build import bulk\nfrom ase.filters import FrechetCellFilter\nfrom ase.optimize import FIRE\nfrom fairchem.core import FAIRChemCalculator, pretrained_mlip\n\npredictor = pretrained_mlip.get_predict_unit(\"uma-s-1\")\ncalc = FAIRChemCalculator(predictor, task_name=\"omat\")\n\natoms = bulk(\"Fe\")\natoms.calc = calc\n\nopt = FIRE(FrechetCellFilter(atoms))\nopt.run(0.05, 100)\n\nprint(atoms.get_stress())  # !!!! We get stress now!","key":"zno2tHJ6Wh"},{"type":"outputs","id":"cQvGNkhVJ4siXQkJgqpID","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"WARNING:root:device was not explicitly set, using device='cuda'.\n"},"key":"N5dfu9MOIL"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"WARNING:root:If 'dataset_list' is provided in the config, the code assumes that each dataset maps to itself. Please use 'dataset_mapping' as 'dataset_list' is deprecated and will be removed in the future.\n"},"key":"p1IVA9ZjCN"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"      Step     Time          Energy          fmax\nFIRE:    0 22:37:27       -8.261158        0.651784\nFIRE:    1 22:37:27       -8.271310        0.358119\nFIRE:    2 22:37:27       -8.264588        1.650196\n"},"key":"vhZapZNli1"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"FIRE:    3 22:37:27       -8.273672        0.177966\nFIRE:    4 22:37:27       -8.272634        0.269083\nFIRE:    5 22:37:27       -8.272766        0.257552\n"},"key":"o198wrVRzM"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"FIRE:    6 22:37:27       -8.273009        0.234350\nFIRE:    7 22:37:27       -8.273319        0.199201\n"},"key":"ibwOaImxgC"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"FIRE:    8 22:37:28       -8.273635        0.151747\nFIRE:    9 22:37:28       -8.273890        0.091455\n"},"key":"y2uLAabO0b"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"FIRE:   10 22:37:28       -8.274015        0.017801\n[1.5563025e-03 1.5562251e-03 1.5562990e-03 3.6033928e-08 1.4666438e-10\n 3.5133503e-08]\n"},"key":"RUMImo6zOd"}],"key":"WwrsQQezXF"}],"key":"LPqnZAqrHA"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"children":[{"type":"text","value":"Molecular dynamics - OMOL","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"iQ90hngsS8"}],"identifier":"molecular-dynamics-omol","label":"Molecular dynamics - OMOL","html_id":"molecular-dynamics-omol","implicit":true,"key":"Jw9Du0IK5j"}],"key":"Lkz7wjcD2G"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt\n\nfrom ase import units\nfrom ase.build import molecule\nfrom ase.io import Trajectory\nfrom ase.md.langevin import Langevin\nfrom fairchem.core import FAIRChemCalculator, pretrained_mlip\n\npredictor = pretrained_mlip.get_predict_unit(\"uma-s-1\")\ncalc = FAIRChemCalculator(predictor, task_name=\"omol\")\n\natoms = molecule(\"H2O\")\natoms.info.update(charge=0, spin=1)  # For omol\n\natoms.calc = calc\n\ndyn = Langevin(\n    atoms,\n    timestep=0.1 * units.fs,\n    temperature_K=400,\n    friction=0.001 / units.fs,\n)\n\ntrajectory = Trajectory(\"my_md.traj\", \"w\", atoms)\ndyn.attach(trajectory.write, interval=1)\ndyn.run(steps=50)\n\n# See some results - not paper ready!\ntraj = Trajectory(\"my_md.traj\")\nplt.plot(\n    [i * 0.1 * units.fs for i in range(len(traj))],\n    [a.get_potential_energy() for a in traj],\n)\nplt.xlabel(\"Time (fs)\")\nplt.ylabel(\"Energy (eV)\");","key":"YeGvptWzx2"},{"type":"outputs","id":"nz7ODqlw3Q6WwY-c1cSp3","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"WARNING:root:device was not explicitly set, using device='cuda'.\n"},"key":"WInBouo8pp"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"WARNING:root:If 'dataset_list' is provided in the config, the code assumes that each dataset maps to itself. Please use 'dataset_mapping' as 'dataset_list' is deprecated and will be removed in the future.\n"},"key":"sdihd8ZzoN"},{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"0aad3340301108e49af40dca5c6a1eb8","path":"/build/0aad3340301108e49af40dca5c6a1eb8.png"}}},"key":"chDv4zEsDc"}],"key":"gCjzUzbEwt"}],"key":"Xcbrlv9ZYU"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":225,"column":1},"end":{"line":225,"column":1}},"children":[{"type":"link","url":"/ocp-introduction","position":{"start":{"line":225,"column":1},"end":{"line":225,"column":1}},"children":[{"type":"text","value":"Catalyst Adsorption energies","position":{"start":{"line":225,"column":1},"end":{"line":225,"column":1}},"key":"B3MTCo9dak"}],"urlSource":"../catalysts/examples_tutorials/OCP-introduction","dataUrl":"/ocp-introduction.json","internal":true,"protocol":"file","key":"d3wC9OHjBt"}],"identifier":"catalyst-adsorption-energies","label":"Catalyst Adsorption energies","html_id":"catalyst-adsorption-energies","implicit":true,"key":"dFT1BdvCEX"},{"type":"paragraph","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"children":[{"type":"text","value":"The basic approach in computing an adsorption energy is to compute this energy difference:","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"key":"SCOePZfJdk"}],"key":"JscLQReHn4"},{"type":"code","lang":"","value":"dH = E_adslab - E_slab - E_ads","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"Udn1QvHt7y"},{"type":"paragraph","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"text","value":"We use UMA for two of these energies ","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"KvHUQSm2pF"},{"type":"inlineCode","value":"E_adslab","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"u8e8mWecCq"},{"type":"text","value":" and ","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"sveHYFJBdc"},{"type":"inlineCode","value":"E_slab","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"wVD8bKiLgz"},{"type":"text","value":". For ","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"u5yNZp7bOE"},{"type":"inlineCode","value":"E_ads","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"GfvGCDkE7p"},{"type":"text","value":" We have to do something a little different. The OC20 task is not trained for molecules or molecular fragments. We use atomic energy reference energies instead.  These are tabulated below.","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"GC0gh4gJXN"}],"key":"CzDGz6AeII"},{"type":"paragraph","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"children":[{"type":"text","value":"The OC20 reference scheme is this reaction:","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"Edygr7SwX6"}],"key":"ZIfHggL12Y"},{"type":"code","lang":"","value":"x CO + (x + y/2 - z) H2 + (z-x) H2O + w/2 N2 + * -> CxHyOzNw*  ","position":{"start":{"line":235,"column":1},"end":{"line":235,"column":1}},"key":"aWUTFuJ3MY"},{"type":"paragraph","position":{"start":{"line":237,"column":1},"end":{"line":237,"column":1}},"children":[{"type":"text","value":"For this example we have","position":{"start":{"line":237,"column":1},"end":{"line":237,"column":1}},"key":"tmXFAaR1ze"}],"key":"rHc9bqvnP6"},{"type":"code","lang":"","value":"-H2 + H2O + * -> O*.   \"O\": -7.204 eV","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"key":"Abo31OPjCz"},{"type":"paragraph","position":{"start":{"line":241,"column":1},"end":{"line":241,"column":1}},"children":[{"type":"text","value":"Where ","position":{"start":{"line":241,"column":1},"end":{"line":241,"column":1}},"key":"uQYkSrfDFg"},{"type":"inlineCode","value":"\"O\": -7.204","position":{"start":{"line":241,"column":1},"end":{"line":241,"column":1}},"key":"Tcdy67iIV0"},{"type":"text","value":" is a constant.","position":{"start":{"line":241,"column":1},"end":{"line":241,"column":1}},"key":"Ewmfc3HbFp"}],"key":"NVWo30zJae"},{"type":"paragraph","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"children":[{"type":"text","value":"To get the desired reaction energy we want we add the formation energy of water. We use either DFT or experimental values for this reaction energy.","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"CWzQMOzSeV"}],"key":"inn19emyP4"},{"type":"code","lang":"","value":"1/2O2 + H2 -> H2O","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"key":"E6lTd0c8BS"},{"type":"paragraph","position":{"start":{"line":247,"column":1},"end":{"line":247,"column":1}},"children":[{"type":"text","value":"Alternatives to this approach are using DFT to estimate the energy of 1/2 O2, just make sure to use consistent settings with your task. You should not use OMOL for this.","position":{"start":{"line":247,"column":1},"end":{"line":247,"column":1}},"key":"xA5HKPjSFK"}],"key":"FOg2D5UmOd"}],"key":"lAwOfoDD7D"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from ase.build import add_adsorbate, fcc111\nfrom ase.optimize import BFGS\nfrom fairchem.core import FAIRChemCalculator, pretrained_mlip\n\npredictor = pretrained_mlip.get_predict_unit(\"uma-s-1\")\ncalc = FAIRChemCalculator(predictor, task_name=\"oc20\")","key":"EMhik7ylIJ"},{"type":"outputs","id":"sYO8lfx-tnSeNfw0-oSrb","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"WARNING:root:device was not explicitly set, using device='cuda'.\n"},"key":"oAZL52dhye"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"WARNING:root:If 'dataset_list' is provided in the config, the code assumes that each dataset maps to itself. Please use 'dataset_mapping' as 'dataset_list' is deprecated and will be removed in the future.\n"},"key":"p8F5GYyeuc"}],"key":"ivEPg3D0s1"}],"key":"ikhOKKUqcl"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# reference energies from a linear combination of H2O/N2/CO/H2!\natomic_reference_energies = {\n    \"H\": -3.477,\n    \"N\": -8.083,\n    \"O\": -7.204,\n    \"C\": -7.282,\n}\n\nre1 = -3.03  # Water formation energy from experiment\n\nslab = fcc111(\"Pt\", size=(2, 2, 5), vacuum=20.0)\nslab.pbc = True\n\nadslab = slab.copy()\nadd_adsorbate(adslab, \"O\", height=1.2, position=\"fcc\")\n\nslab.calc = calc\nopt = BFGS(slab)\nprint(\"Relaxing slab\")\nopt.run(fmax=0.05, steps=100)\nslab_e = slab.get_potential_energy()\n\nadslab.calc = calc\nopt = BFGS(adslab)\nprint(\"\\nRelaxing adslab\")\nopt.run(fmax=0.05, steps=100)\nadslab_e = adslab.get_potential_energy()","key":"y1ppwu8FHH"},{"type":"outputs","id":"6tvI4Hlu770ibrJax7Y8h","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"Relaxing slab\n"},"key":"tDWkLquY5T"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"      Step     Time          Energy          fmax\nBFGS:    0 22:37:51     -104.710392        0.707696\nBFGS:    1 22:37:51     -104.767890        0.605448\n"},"key":"pRLhSS3AAC"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"BFGS:    2 22:37:52     -104.919424        0.369264\nBFGS:    3 22:37:52     -104.952876        0.441349\nBFGS:    4 22:37:52     -105.030000        0.467593\n"},"key":"KtR8S2Jqxj"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"BFGS:    5 22:37:52     -105.091450        0.365230\nBFGS:    6 22:37:52     -105.128720        0.195037\n"},"key":"xbQTR2DjyX"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"BFGS:    7 22:37:52     -105.143315        0.048836\n\nRelaxing adslab\n"},"key":"CnvbIVPqhK"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"      Step     Time          Energy          fmax\nBFGS:    0 22:37:53     -110.055656        1.762239\n"},"key":"sDuAf9X95a"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"BFGS:    1 22:37:53     -110.239039        0.996808\n"},"key":"J6GZEJOaGV"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"BFGS:    2 22:37:53     -110.389561        0.747533\n"},"key":"HtqMdMN9AG"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"BFGS:    3 22:37:53     -110.441195        0.818361\n"},"key":"PmJn3lxAWZ"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"BFGS:    4 22:37:53     -110.557367        0.688425\n"},"key":"QDVKZ5WF9s"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"BFGS:    5 22:37:54     -110.631217        0.497353\n"},"key":"Dksp67w87E"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"BFGS:    6 22:37:54     -110.687290        0.690802\n"},"key":"HozrWuyhyG"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"BFGS:    7 22:37:54     -110.737890        0.729386\n"},"key":"aAMU3QaEXY"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"BFGS:    8 22:37:54     -110.774873        0.435721\n"},"key":"VM5MQ9sOCb"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"BFGS:    9 22:37:55     -110.786666        0.199894\n"},"key":"UQVxM2TsvO"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"BFGS:   10 22:37:55     -110.789560        0.080700\n"},"key":"J7jfumv7fY"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"BFGS:   11 22:37:55     -110.790038        0.057990\n"},"key":"ajN9kZU48M"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"BFGS:   12 22:37:55     -110.790286        0.044006\n"},"key":"slqmRjgHvs"}],"key":"fn5c7TvZgh"}],"key":"iyMQXfHQNV"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"children":[{"type":"text","value":"Now we compute the adsorption energy.","position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"key":"ob3haiCS23"}],"key":"HcR0xq2xkJ"}],"key":"jam2BfgA8g"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Energy for ((H2O-H2) + * -> *O) + (H2 + 1/2O2 -> H2O) leads to 1/2O2 + * -> *O!\nadslab_e - slab_e - atomic_reference_energies[\"O\"] + re1","key":"HuWOWpmIdk"},{"type":"outputs","id":"vWrVNmMXTHwTrEVGAV6mN","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":10,"metadata":{},"data":{"text/plain":{"content":"-1.4729707438775743","content_type":"text/plain"}}},"key":"h5lmQwsvhG"}],"key":"rpu2ORJC1k"}],"key":"zKQDjterO8"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"children":[{"type":"text","value":"How did we do? We need a reference point. In the paper below, there is an atomic adsorption energy for O on Pt(111) of about -4.264 eV. This is for the reaction O + * -> O*. To convert this to the dissociative adsorption energy, we have to add the reaction:","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"key":"fe9p4AUZAk"}],"key":"bmx6zqYV2d"},{"type":"code","lang":"","value":"1/2 O2 -> O   D = 2.58 eV (expt)","position":{"start":{"line":297,"column":1},"end":{"line":297,"column":1}},"key":"oik2Wdjuuh"},{"type":"paragraph","position":{"start":{"line":299,"column":1},"end":{"line":299,"column":1}},"children":[{"type":"text","value":"to get a comparable energy of about -1.68 eV. There is about ~0.2 eV difference (we predicted -1.47 eV above, and the reference comparison is -1.68 eV) to account for. The biggest difference is likely due to the differences in exchange-correlation functional. The reference data used the PBE functional, and eSCN was trained on RPBE data. To additional places where there are differences include:","position":{"start":{"line":299,"column":1},"end":{"line":299,"column":1}},"key":"bdLlv98vsn"}],"key":"S2oBxAl7PS"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":301,"column":1},"end":{"line":306,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":301,"column":1},"end":{"line":302,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"children":[{"type":"text","value":"Difference in lattice constant","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"lKZBIiN3UC"}],"key":"ls1InA0cPO"}],"key":"WzVlqCpzhl"},{"type":"listItem","spread":true,"position":{"start":{"line":303,"column":1},"end":{"line":304,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"children":[{"type":"text","value":"The reference energy used for the experiment references. These can differ by up to 0.5 eV from comparable DFT calculations.","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"f8Zv0zs3A6"}],"key":"WqOTba62It"}],"key":"gVANo2CFsx"},{"type":"listItem","spread":true,"position":{"start":{"line":305,"column":1},"end":{"line":306,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":305,"column":1},"end":{"line":305,"column":1}},"children":[{"type":"text","value":"How many layers are relaxed in the calculation","position":{"start":{"line":305,"column":1},"end":{"line":305,"column":1}},"key":"teD4CTFVbb"}],"key":"c5pIXt3IjU"}],"key":"TOV3QzxGlx"}],"key":"smMCh5QChN"},{"type":"paragraph","position":{"start":{"line":307,"column":1},"end":{"line":307,"column":1}},"children":[{"type":"text","value":"Some of these differences tend to be systematic, and you can calibrate and correct these, especially if you can augment these with your own DFT calculations.","position":{"start":{"line":307,"column":1},"end":{"line":307,"column":1}},"key":"dRxS7yMt6y"}],"key":"Dnxd5RwbdO"},{"type":"paragraph","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"children":[{"type":"text","value":"It is always a good idea to visualize the geometries to make sure they look reasonable.","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"key":"L5d9JhUsoW"}],"key":"smaRbGmGOf"}],"key":"XuIjbbtECo"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt\nfrom ase.visualize.plot import plot_atoms\n\nfig, axs = plt.subplots(1, 2)\nplot_atoms(slab, axs[0])\nplot_atoms(slab, axs[1], rotation=(\"-90x\"))\naxs[0].set_axis_off()\naxs[1].set_axis_off()","key":"TCB6Ll6l7A"},{"type":"outputs","id":"Dq7H1wlBAcHK7AIgAfW_H","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 640x480 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"b57a77696472af7c7abc44b32e43b8b5","path":"/build/b57a77696472af7c7abc44b32e43b8b5.png"}}},"key":"jsGlG6fcZk"}],"key":"TVNfAqE4Sq"}],"key":"Pd8a2OMn4W"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, axs = plt.subplots(1, 2)\nplot_atoms(adslab, axs[0])\nplot_atoms(adslab, axs[1], rotation=(\"-90x\"))\naxs[0].set_axis_off()\naxs[1].set_axis_off()","key":"hGHuKReloO"},{"type":"outputs","id":"sF2ZkTzrzRkFYirxC9IOf","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 640x480 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"02d9d94773cc3abe0931bd83da247132","path":"/build/02d9d94773cc3abe0931bd83da247132.png"}}},"key":"JexCiaKqPq"}],"key":"NxZVsUcq9h"}],"key":"pbpCeEdpQc"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":330,"column":1},"end":{"line":330,"column":1}},"children":[{"type":"text","value":"Molecular vibrations","position":{"start":{"line":330,"column":1},"end":{"line":330,"column":1}},"key":"ZNWmoqnqSH"}],"identifier":"molecular-vibrations","label":"Molecular vibrations","html_id":"molecular-vibrations","implicit":true,"key":"szuYKzCGoM"}],"key":"Kbw0GfyMzH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from ase import Atoms\nfrom ase.optimize import BFGS\n\npredictor = pretrained_mlip.get_predict_unit(\"uma-s-1\")\ncalc = FAIRChemCalculator(predictor, task_name=\"omol\")\n\nfrom ase.vibrations import Vibrations\n\nn2 = Atoms(\"N2\", [(0, 0, 0), (0, 0, 1.1)])\nn2.info.update({\"spin\": 1, \"charge\": 0})\nn2.calc = calc\n\nBFGS(n2).run(fmax=0.01)","key":"SqQFKddeB0"},{"type":"outputs","id":"rrJlflrDYrttYQkzJqJBM","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"WARNING:root:device was not explicitly set, using device='cuda'.\n"},"key":"nSlLc49ckE"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"WARNING:root:If 'dataset_list' is provided in the config, the code assumes that each dataset maps to itself. Please use 'dataset_mapping' as 'dataset_list' is deprecated and will be removed in the future.\n"},"key":"puzMb5070x"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"      Step     Time          Energy          fmax\nBFGS:    0 22:38:09    -2981.068009        1.645286\n"},"key":"kY2bJiCPLr"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"BFGS:    1 22:38:09    -2980.961841        6.601526\n"},"key":"bnvRyd57Pa"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"BFGS:    2 22:38:09    -2981.076753        0.203644\n"},"key":"ROLWL4WgP1"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"BFGS:    3 22:38:09    -2981.076882        0.024168\n"},"key":"C0zjluTSY4"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"BFGS:    4 22:38:09    -2981.076883        0.000103\n"},"key":"vLaKXTtHpu"},{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":13,"metadata":{},"data":{"text/plain":{"content":"np.True_","content_type":"text/plain"}}},"key":"qZWaMQnBTZ"}],"key":"ceoCVXyAcD"}],"key":"YwP1gGX9Pt"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"vib = Vibrations(n2)\nvib.run()\nvib.summary()","key":"YjnAUh8s7X"},{"type":"outputs","id":"eLwwcgCcFEPZ6OwjfWl9O","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"---------------------\n  #    meV     cm^-1\n---------------------\n  0    0.0       0.0\n  1    0.0       0.0\n  2    0.0       0.0\n  3    2.0      16.1\n  4    2.0      16.1\n  5  309.2    2494.2\n---------------------\nZero-point energy: 0.157 eV\n"},"key":"QtsxZOkVIC"}],"key":"hlxflFdLWl"}],"key":"QN9IPyqqJC"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"text","value":"Bulk alloy phase behavior","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"Ua0MeQ5nKw"}],"identifier":"bulk-alloy-phase-behavior","label":"Bulk alloy phase behavior","html_id":"bulk-alloy-phase-behavior","implicit":true,"key":"ctCI9DeCOi"},{"type":"paragraph","position":{"start":{"line":356,"column":1},"end":{"line":356,"column":1}},"children":[{"type":"text","value":"Adapted from ","position":{"start":{"line":356,"column":1},"end":{"line":356,"column":1}},"key":"vMZrXvFVlE"},{"type":"link","url":"https://kitchingroup.cheme.cmu.edu/dft-book/dft.html#orgheadline29","position":{"start":{"line":356,"column":1},"end":{"line":356,"column":1}},"children":[{"type":"text","value":"https://​kitchingroup​.cheme​.cmu​.edu​/dft​-book​/dft​.html​#orgheadline29","position":{"start":{"line":356,"column":1},"end":{"line":356,"column":1}},"key":"WpRgtzKVF4"}],"urlSource":"https://kitchingroup.cheme.cmu.edu/dft-book/dft.html#orgheadline29","key":"llpoGbA2ey"}],"key":"CtnVLCwRR5"},{"type":"paragraph","position":{"start":{"line":358,"column":1},"end":{"line":358,"column":1}},"children":[{"type":"text","value":"We manually compute the formation energy of pure compounds and some alloy compositions to assess stability.","position":{"start":{"line":358,"column":1},"end":{"line":358,"column":1}},"key":"f8lWyVL8u8"}],"key":"de257w6sNk"}],"key":"ZerCYUHm8i"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from ase.atoms import Atom, Atoms\nfrom ase.filters import FrechetCellFilter\nfrom ase.optimize import FIRE\nfrom fairchem.core import FAIRChemCalculator, pretrained_mlip\n\npredictor = pretrained_mlip.get_predict_unit(\"uma-s-1\")\n\ncu = Atoms(\n    [Atom(\"Cu\", [0.000, 0.000, 0.000])],\n    cell=[[1.818, 0.000, 1.818], [1.818, 1.818, 0.000], [0.000, 1.818, 1.818]],\n    pbc=True,\n)\ncu.calc = FAIRChemCalculator(predictor, task_name=\"omat\")\n\nopt = FIRE(FrechetCellFilter(cu))\nopt.run(0.05, 100)\n\ncu.get_potential_energy()","key":"rJYH7AUmbD"},{"type":"outputs","id":"YN1W5fchVlZkdIg9m8G9W","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"WARNING:root:device was not explicitly set, using device='cuda'.\n"},"key":"vQbBN0exB0"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"WARNING:root:If 'dataset_list' is provided in the config, the code assumes that each dataset maps to itself. Please use 'dataset_mapping' as 'dataset_list' is deprecated and will be removed in the future.\n"},"key":"Jft0JjbFRS"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"      Step     Time          Energy          fmax\nFIRE:    0 22:38:15       -3.756933        0.161999\n"},"key":"RkNL7z8aNJ"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"FIRE:    1 22:38:15       -3.757594        0.110083\n"},"key":"R29M7m01ym"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"FIRE:    2 22:38:15       -3.758130        0.020767\n"},"key":"f4v96h4CMt"},{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":15,"metadata":{},"data":{"text/plain":{"content":"-3.7581299773902463","content_type":"text/plain"}}},"key":"uZB98BCd7R"}],"key":"oUqlYO6POU"}],"key":"LvCQG4AFRU"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"pd = Atoms(\n    [Atom(\"Pd\", [0.000, 0.000, 0.000])],\n    cell=[[1.978, 0.000, 1.978], [1.978, 1.978, 0.000], [0.000, 1.978, 1.978]],\n    pbc=True,\n)\npd.calc = FAIRChemCalculator(predictor, task_name=\"omat\")\n\nopt = FIRE(FrechetCellFilter(pd))\nopt.run(0.05, 100)\n\npd.get_potential_energy()","key":"CZgd0XIqfT"},{"type":"outputs","id":"Lhl2CFu5G9Uar8XbjcBTB","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"      Step     Time          Energy          fmax\nFIRE:    0 22:38:15       -5.211726        0.240058\n"},"key":"RkLG77pckI"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"FIRE:    1 22:38:15       -5.213070        0.131579\n"},"key":"d8PgUwb7Qg"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"FIRE:    2 22:38:16       -5.213503        0.060259\n"},"key":"pUF7k2Zgqp"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"FIRE:    3 22:38:16       -5.213528        0.051645\n"},"key":"YNnOr8JbC4"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"FIRE:    4 22:38:16       -5.213565        0.035871\n"},"key":"Baw7pzRGDw"},{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":16,"metadata":{},"data":{"text/plain":{"content":"-5.213564622137426","content_type":"text/plain"}}},"key":"NfAA6owlW3"}],"key":"bcd0CcLdUh"}],"key":"prM0U6pdjK"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":395,"column":1},"end":{"line":395,"column":1}},"children":[{"type":"text","value":"Alloy formation energies","position":{"start":{"line":395,"column":1},"end":{"line":395,"column":1}},"key":"MnxY3DjNFd"}],"identifier":"alloy-formation-energies","label":"Alloy formation energies","html_id":"alloy-formation-energies","implicit":true,"key":"kWGQy4fGso"}],"key":"N6izrFtiyo"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"cupd1 = Atoms(\n    [Atom(\"Cu\", [0.000, 0.000, 0.000]), Atom(\"Pd\", [-1.652, 0.000, 2.039])],\n    cell=[[0.000, -2.039, 2.039], [0.000, 2.039, 2.039], [-3.303, 0.000, 0.000]],\n    pbc=True,\n)  # Note pbc=True is important, it is not the default and OMAT\n\ncupd1.calc = FAIRChemCalculator(predictor, task_name=\"omat\")\n\nopt = FIRE(FrechetCellFilter(cupd1))\nopt.run(0.05, 100)\n\ncupd1.get_potential_energy()","key":"UuTD7UsbOL"},{"type":"outputs","id":"GmWK3VoVyAF1D8VZrPu_Y","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"      Step     Time          Energy          fmax\nFIRE:    0 22:38:16       -9.202821        0.142029\n"},"key":"qCSciuQInR"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"FIRE:    1 22:38:17       -9.203042        0.127498\n"},"key":"G7O582JW3U"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"FIRE:    2 22:38:17       -9.203371        0.101174\n"},"key":"RySm3mBq8j"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"FIRE:    3 22:38:17       -9.203669        0.068562\n"},"key":"EQJu4Egz8E"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"FIRE:    4 22:38:17       -9.203892        0.060712\n"},"key":"KT1IGrjwhk"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"FIRE:    5 22:38:17       -9.204129        0.078850\n"},"key":"tseiYeR7rU"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"FIRE:    6 22:38:18       -9.204490        0.081598\n"},"key":"C603slejWo"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"FIRE:    7 22:38:18       -9.204987        0.069264\nFIRE:    8 22:38:18       -9.205592        0.045644\n"},"key":"ElaHGPP7zY"},{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":17,"metadata":{},"data":{"text/plain":{"content":"-9.205591734189348","content_type":"text/plain"}}},"key":"oDYjtX4v0z"}],"key":"nmHTYnqI6O"}],"key":"jc4mhk5HEb"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"cupd2 = Atoms(\n    [\n        Atom(\"Cu\", [-0.049, 0.049, 0.049]),\n        Atom(\"Cu\", [-11.170, 11.170, 11.170]),\n        Atom(\"Pd\", [-7.415, 7.415, 7.415]),\n        Atom(\"Pd\", [-3.804, 3.804, 3.804]),\n    ],\n    cell=[[-5.629, 3.701, 5.629], [-3.701, 5.629, 5.629], [-5.629, 5.629, 3.701]],\n    pbc=True,\n)\ncupd2.calc = FAIRChemCalculator(predictor, task_name=\"omat\")\n\nopt = FIRE(FrechetCellFilter(cupd2))\nopt.run(0.05, 100)\n\ncupd2.get_potential_energy()","key":"cL4md5aPfm"},{"type":"outputs","id":"DNuP71uPaUoDThfjIXrIq","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"      Step     Time          Energy          fmax\nFIRE:    0 22:38:18      -18.126594        0.181633\n"},"key":"narmqzJP60"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"FIRE:    1 22:38:18      -18.127546        0.162952\n"},"key":"ATXHomxKvE"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"FIRE:    2 22:38:19      -18.129066        0.127293\n"},"key":"k1f75P2hlW"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"FIRE:    3 22:38:19      -18.130534        0.078068\n"},"key":"bVRHypDg1V"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"FIRE:    4 22:38:19      -18.131346        0.021485\n"},"key":"m0Lt94uOjQ"},{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":18,"metadata":{},"data":{"text/plain":{"content":"-18.13134633687845","content_type":"text/plain"}}},"key":"CA5ZzbuLNr"}],"key":"OPxhh4izxF"}],"key":"QKRT5Bu5u6"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Delta Hf cupd-1 = -0.11 eV/atom\nhf1 = (\n    cupd1.get_potential_energy() - cu.get_potential_energy() - pd.get_potential_energy()\n)\nhf1","key":"hha3fun8Ce"},{"type":"outputs","id":"PF7RlVr_VK5tkrhLeNwty","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":19,"metadata":{},"data":{"text/plain":{"content":"-0.2338971346616754","content_type":"text/plain"}}},"key":"QQrTseVBUE"}],"key":"q2iai5z2Fo"}],"key":"LcNZ63nuSJ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# DFT: Delta Hf cupd-2 = -0.04 eV/atom\nhf2 = (\n    cupd2.get_potential_energy()\n    - 2 * cu.get_potential_energy()\n    - 2 * pd.get_potential_energy()\n)\nhf2","key":"CP1H17Ivin"},{"type":"outputs","id":"mOocl6-vSwIcwPJ5F44ov","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":20,"metadata":{},"data":{"text/plain":{"content":"-0.18795713782310663","content_type":"text/plain"}}},"key":"ijWRpfCUAt"}],"key":"eOmcXDyIA7"}],"key":"ENYrJl8PBv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"hf1 - hf2, (-0.11 - -0.04)","key":"ibtLRIGdUk"},{"type":"outputs","id":"003fNYdUPaqgXpPC360SD","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":21,"metadata":{},"data":{"text/plain":{"content":"(-0.04593999683856875, -0.07)","content_type":"text/plain"}}},"key":"WVhKfkSop9"}],"key":"jVZbzYUGis"}],"key":"FHXjg41JEd"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"children":[{"type":"text","value":"These indicate that cupd-1 and cupd-2 are both more stable than phase separated Cu and Pd, and that cupd-1 is more stable than cupd-2. The absolute formation energies differ from the DFT references, but the relative differences are quite close. The absolute differences could be due to DFT parameter choices (XC, psp, etc.).","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"TNMpVvGQCZ"}],"key":"AzSGynrWFi"},{"type":"heading","depth":3,"position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"text","value":"Phonon calculation","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"xKBCXFihl9"}],"identifier":"phonon-calculation","label":"Phonon calculation","html_id":"phonon-calculation","implicit":true,"key":"apa3LG2yOu"},{"type":"paragraph","position":{"start":{"line":458,"column":1},"end":{"line":458,"column":1}},"children":[{"type":"text","value":"This takes 4-10 minutes. Adapted from ","position":{"start":{"line":458,"column":1},"end":{"line":458,"column":1}},"key":"y436pd6hrv"},{"type":"link","url":"https://wiki.fysik.dtu.dk/ase/ase/phonons.html#example","position":{"start":{"line":458,"column":1},"end":{"line":458,"column":1}},"children":[{"type":"text","value":"https://​wiki​.fysik​.dtu​.dk​/ase​/ase​/phonons​.html​#example","position":{"start":{"line":458,"column":1},"end":{"line":458,"column":1}},"key":"x2CpIAYmbK"}],"urlSource":"https://wiki.fysik.dtu.dk/ase/ase/phonons.html#example","key":"HMo6Wvf6c7"},{"type":"text","value":".","position":{"start":{"line":458,"column":1},"end":{"line":458,"column":1}},"key":"hyXWOBR27z"}],"key":"djKAzgkQpb"},{"type":"paragraph","position":{"start":{"line":460,"column":1},"end":{"line":460,"column":1}},"children":[{"type":"text","value":"Phonons have applications in computing the stability and free energy of solids. See:","position":{"start":{"line":460,"column":1},"end":{"line":460,"column":1}},"key":"OKb2nAz5ro"}],"key":"pB1fwHUUbe"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":462,"column":1},"end":{"line":464,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":462,"column":1},"end":{"line":462,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://www.sciencedirect.com/science/article/pii/S1359646215003127","position":{"start":{"line":462,"column":1},"end":{"line":462,"column":1}},"children":[{"type":"text","value":"https://​www​.sciencedirect​.com​/science​/article​/pii​/S1359646215003127","position":{"start":{"line":462,"column":1},"end":{"line":462,"column":1}},"key":"PxyALbIMj9"}],"urlSource":"https://www.sciencedirect.com/science/article/pii/S1359646215003127","key":"a4wYomzfmz"}],"key":"ksheanF5WY"}],"key":"nwhSsXsKy3"},{"type":"listItem","spread":true,"position":{"start":{"line":463,"column":1},"end":{"line":464,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://iopscience.iop.org/book/mono/978-0-7503-2572-1/chapter/bk978-0-7503-2572-1ch1","position":{"start":{"line":463,"column":1},"end":{"line":463,"column":1}},"children":[{"type":"text","value":"https://​iopscience​.iop​.org​/book​/mono​/978​-0​-7503​-2572​-1​/chapter​/bk978​-0​-7503​-2572​-1ch1","position":{"start":{"line":463,"column":1},"end":{"line":463,"column":1}},"key":"GGe2kBf04o"}],"urlSource":"https://iopscience.iop.org/book/mono/978-0-7503-2572-1/chapter/bk978-0-7503-2572-1ch1","key":"QWE6d0i7fV"}],"key":"e9JuLatYS4"}],"key":"Zqb1uufwsQ"}],"key":"nKFBGvetIR"}],"key":"YikWg9LiH5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from ase.build import bulk\nfrom ase.phonons import Phonons\n\npredictor = pretrained_mlip.get_predict_unit(\"uma-s-1\")\ncalc = FAIRChemCalculator(predictor, task_name=\"omat\")\n\n# Setup crystal\natoms = bulk(\"Al\", \"fcc\", a=4.05)\n\n# Phonon calculator\nN = 7\nph = Phonons(atoms, calc, supercell=(N, N, N), delta=0.05)\nph.run()\n\n# Read forces and assemble the dynamical matrix\nph.read(acoustic=True)\nph.clean()\n\npath = atoms.cell.bandpath(\"GXULGK\", npoints=100)\nbs = ph.get_band_structure(path)\n\ndos = ph.get_dos(kpts=(20, 20, 20)).sample_grid(npts=100, width=1e-3)","key":"OpRJPUKgjL"},{"type":"outputs","id":"3JNeSJzL0DInF1qMRnKiJ","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"WARNING:root:device was not explicitly set, using device='cuda'.\n"},"key":"yaYIRPyj8X"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"WARNING:root:If 'dataset_list' is provided in the config, the code assumes that each dataset maps to itself. Please use 'dataset_mapping' as 'dataset_list' is deprecated and will be removed in the future.\n"},"key":"Oil7fvbcoi"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"WARNING, 1 imaginary frequencies at q = ( 0.00,  0.00,  0.00) ; (omega_q = 6.562e-09*i)\nWARNING, 1 imaginary frequencies at q = ( 0.00,  0.00,  0.00) ; (omega_q = 6.562e-09*i)\n"},"key":"EUq2FAk7z2"}],"key":"Ptfg3Nc53q"}],"key":"q7iKZOuVvO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Plot the band structure and DOS:\nimport matplotlib.pyplot as plt  # noqa\n\nfig = plt.figure(figsize=(7, 4))\nax = fig.add_axes([0.12, 0.07, 0.67, 0.85])\n\nemax = 0.04\nbs.plot(ax=ax, emin=0.0, emax=emax)\n\ndosax = fig.add_axes([0.8, 0.07, 0.17, 0.85])\ndosax.fill_between(\n    dos.get_weights(),\n    dos.get_energies(),\n    y2=0,\n    color=\"grey\",\n    edgecolor=\"k\",\n    lw=1,\n)\n\ndosax.set_ylim(0, emax)\ndosax.set_yticks([])\ndosax.set_xticks([])\ndosax.set_xlabel(\"DOS\", fontsize=18);","key":"tlOt9fdGoQ"},{"type":"outputs","id":"1FjPTMCn6YbK-sDtM_nb5","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 700x400 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"e8f833206b8a69e5301f10cb18b3147f","path":"/build/e8f833206b8a69e5301f10cb18b3147f.png"}}},"key":"fPusW1C0RT"}],"key":"lfaK5QyPFZ"}],"key":"JIVYRDptRQ"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":516,"column":1},"end":{"line":516,"column":1}},"children":[{"type":"text","value":"Transition States (NEBs)","position":{"start":{"line":516,"column":1},"end":{"line":516,"column":1}},"key":"gTCXcQuN17"}],"identifier":"transition-states-nebs","label":"Transition States (NEBs)","html_id":"transition-states-nebs","implicit":true,"key":"WiFzBS297f"},{"type":"paragraph","position":{"start":{"line":518,"column":1},"end":{"line":518,"column":1}},"children":[{"type":"text","value":"Nudged elastic band calculations are among the most costly calculations we do. UMA makes these quicker!","position":{"start":{"line":518,"column":1},"end":{"line":518,"column":1}},"key":"gk0pImNuMk"}],"key":"PTpV43wmF9"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"NEB Workflow","position":{"start":{"line":520,"column":1},"end":{"line":520,"column":1}},"key":"ts5B4AaobV"}],"key":"rePENQxRbT"},{"type":"paragraph","position":{"start":{"line":521,"column":1},"end":{"line":521,"column":1}},"children":[{"type":"text","value":"The standard workflow for transition state calculations:","position":{"start":{"line":521,"column":1},"end":{"line":521,"column":1}},"key":"IfL0eEXs55"}],"key":"lT9kGM7Ion"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":522,"column":1},"end":{"line":526,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":522,"column":1},"end":{"line":522,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Get and relax the initial state","position":{"start":{"line":522,"column":1},"end":{"line":522,"column":1}},"key":"GtOS3x9lhx"}],"key":"dVaFE5dSte"}],"key":"a7i9yjERIR"},{"type":"listItem","spread":true,"position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Get and relax the final state","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"p2eoqjwLFw"}],"key":"nZttvpVdHT"}],"key":"hvod9J9ZYb"},{"type":"listItem","spread":true,"position":{"start":{"line":524,"column":1},"end":{"line":524,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Construct band and interpolate the images","position":{"start":{"line":524,"column":1},"end":{"line":524,"column":1}},"key":"VNUrZbtlfR"}],"key":"xsRGxaLxAr"}],"key":"m14BHabniH"},{"type":"listItem","spread":true,"position":{"start":{"line":525,"column":1},"end":{"line":525,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Relax the band","position":{"start":{"line":525,"column":1},"end":{"line":525,"column":1}},"key":"gZf9qeKkwA"}],"key":"cD1b40Pihw"}],"key":"HBW7ULdlDq"},{"type":"listItem","spread":true,"position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Analyze and plot the band","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"x7xggYHfhi"}],"key":"Tzffp34QtG"}],"key":"YMYO9xyKSy"}],"key":"ALNYRuuqQ5"}],"key":"jOYFIdNuAf"},{"type":"paragraph","position":{"start":{"line":530,"column":1},"end":{"line":530,"column":1}},"children":[{"type":"text","value":"We explore diffusion of an O adatom from an hcp to an fcc site on Pt(111).","position":{"start":{"line":530,"column":1},"end":{"line":530,"column":1}},"key":"c1b6sXxfTF"}],"key":"XFKwq6QIUa"},{"type":"heading","depth":3,"position":{"start":{"line":533,"column":1},"end":{"line":533,"column":1}},"children":[{"type":"text","value":"Initial state","position":{"start":{"line":533,"column":1},"end":{"line":533,"column":1}},"key":"EKGNU78AbB"}],"identifier":"initial-state","label":"Initial state","html_id":"initial-state","implicit":true,"key":"htTmDDRQFS"}],"key":"mGreohMEDG"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from ase.build import add_adsorbate, fcc111, molecule\nfrom ase.optimize import LBFGS\nfrom fairchem.core import FAIRChemCalculator, pretrained_mlip\n\npredictor = pretrained_mlip.get_predict_unit(\"uma-s-1\")\ncalc = FAIRChemCalculator(predictor, task_name=\"oc20\")\n\n# Set up your system as an ASE atoms object\ninitial = fcc111(\"Pt\", (3, 3, 3), vacuum=8, periodic=True)\n\nadsorbate = molecule(\"O\")\nadd_adsorbate(initial, adsorbate, 2.0, \"fcc\")\ninitial.calc = calc\n\n# Set up LBFGS dynamics object\nopt = LBFGS(initial)\nopt.run(0.05, 100)\nprint(initial.get_potential_energy())","key":"PrxvmYRaiA"},{"type":"outputs","id":"OckW9DJ_M2HtIFRot4IlB","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"WARNING:root:device was not explicitly set, using device='cuda'.\n"},"key":"w2WUARhbJF"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"WARNING:root:If 'dataset_list' is provided in the config, the code assumes that each dataset maps to itself. Please use 'dataset_mapping' as 'dataset_list' is deprecated and will be removed in the future.\n"},"key":"OUP2lQQ7L8"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"       Step     Time          Energy          fmax\nLBFGS:    0 22:38:32     -141.329799        3.509945\nLBFGS:    1 22:38:32     -141.719926        3.515035\nLBFGS:    2 22:38:32     -142.980944        2.978369\n"},"key":"t8yUA6aecL"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:    3 22:38:32     -143.684058        0.968201\nLBFGS:    4 22:38:33     -143.787051        1.271678\nLBFGS:    5 22:38:33     -143.858780        0.874625\n"},"key":"n1viiHpeVn"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:    6 22:38:33     -143.933926        0.170912\nLBFGS:    7 22:38:33     -143.937118        0.152467\nLBFGS:    8 22:38:33     -143.944594        0.122230\n"},"key":"O4wJhsChuI"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:    9 22:38:33     -143.948826        0.109292\nLBFGS:   10 22:38:33     -143.952235        0.069972\n"},"key":"SPexP6iv9c"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:   11 22:38:33     -143.953715        0.080109\nLBFGS:   12 22:38:33     -143.955176        0.083486\n"},"key":"qlmZzebbH4"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:   13 22:38:34     -143.956798        0.066267\nLBFGS:   14 22:38:34     -143.958312        0.031494\n-143.9583123027719\n"},"key":"hHmQe75DE4"}],"key":"HUKmeXzgO2"}],"key":"A8yr2cykec"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":556,"column":1},"end":{"line":556,"column":1}},"children":[{"type":"text","value":"Final state","position":{"start":{"line":556,"column":1},"end":{"line":556,"column":1}},"key":"IFuKGSLWDK"}],"identifier":"final-state","label":"Final state","html_id":"final-state","implicit":true,"key":"u3zMvtAN85"}],"key":"osvHEfFlaD"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Set up your system as an ASE atoms object\nfinal = fcc111(\"Pt\", (3, 3, 3), vacuum=8, periodic=True)\n\nadsorbate = molecule(\"O\")\nadd_adsorbate(final, adsorbate, 2.0, \"hcp\")\nfinal.calc = FAIRChemCalculator(predictor, task_name=\"oc20\")\n\n# Set up LBFGS dynamics object\nopt = LBFGS(final)\nopt.run(0.05, 100)\nprint(final.get_potential_energy())","key":"kKXbYL31Io"},{"type":"outputs","id":"C1T55aObkhwm-kOQlcVTl","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"       Step     Time          Energy          fmax\nLBFGS:    0 22:38:34     -141.282604        3.340431\n"},"key":"MEUEY3e2pO"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:    1 22:38:34     -141.659791        3.323329\nLBFGS:    2 22:38:34     -142.891403        2.596618\n"},"key":"DelUb9d2Mo"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:    3 22:38:34     -143.418900        1.225932\n"},"key":"R0DVVOAsjg"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:    4 22:38:34     -143.484096        0.977172\nLBFGS:    5 22:38:34     -143.606344        0.136688\n"},"key":"iV6tJZIVu8"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:    6 22:38:34     -143.610842        0.118672\n"},"key":"BpFwhgmae4"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:    7 22:38:34     -143.613319        0.100140\nLBFGS:    8 22:38:34     -143.615008        0.078482\n"},"key":"ZabLUYQX7H"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:    9 22:38:35     -143.616456        0.051598\n"},"key":"otaRCEryj5"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:   10 22:38:35     -143.617143        0.033145\n-143.6171429454721\n"},"key":"KBoJHZYNrk"}],"key":"BTELIjWBcf"}],"key":"kvL7tKYXG6"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":572,"column":1},"end":{"line":572,"column":1}},"children":[{"type":"text","value":"Setup and relax the band","position":{"start":{"line":572,"column":1},"end":{"line":572,"column":1}},"key":"e1VC62IYer"}],"identifier":"setup-and-relax-the-band","label":"Setup and relax the band","html_id":"setup-and-relax-the-band","implicit":true,"key":"rRavzu64zH"}],"key":"IObAPxUtHA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from ase.mep import NEB\n\nimages = [initial]\nfor i in range(3):\n    image = initial.copy()\n    image.calc = FAIRChemCalculator(predictor, task_name=\"oc20\")\n    images.append(image)\n\nimages.append(final)\n\n\nneb = NEB(images)\nneb.interpolate()\n\nopt = LBFGS(neb, trajectory=\"neb.traj\")\nopt.run(0.05, 100)","key":"aYBYiNjuYX"},{"type":"outputs","id":"-euVDGPSYg80zXZbbm6Sp","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"       Step     Time          Energy          fmax\nLBFGS:    0 22:38:35     -143.193976        3.039304\n"},"key":"hh4MRvsAIU"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:    1 22:38:35     -143.360199        1.460890\n"},"key":"o3n1Ys1Thj"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:    2 22:38:36     -143.411349        0.450311\n"},"key":"k9ysi0UjAd"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:    3 22:38:36     -143.423401        0.447556\n"},"key":"KWbegMrkwK"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:    4 22:38:36     -143.443053        0.476386\n"},"key":"dNReEIdVJ5"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:    5 22:38:36     -143.459314        0.378509\n"},"key":"D1DejqNlLr"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:    6 22:38:37     -143.469904        0.211695\n"},"key":"QdiAHQrh8d"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:    7 22:38:37     -143.474784        0.177272\n"},"key":"Gpho07qwx9"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:    8 22:38:37     -143.475807        0.183705\n"},"key":"RSu6FT4KmH"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:    9 22:38:38     -143.477288        0.178492\n"},"key":"mpRKPMOjj5"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:   10 22:38:38     -143.478786        0.167194\n"},"key":"VCrYO5VDaC"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:   11 22:38:38     -143.479388        0.094900\n"},"key":"cwtpeIwrhu"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:   12 22:38:38     -143.479539        0.096950\n"},"key":"BKyVMxE00e"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:   13 22:38:39     -143.479790        0.100285\n"},"key":"H7IZ0VxSQU"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:   14 22:38:39     -143.480345        0.124778\n"},"key":"rrUGjyIm2Y"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:   15 22:38:39     -143.481008        0.092787\n"},"key":"DpchKvNKlL"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:   16 22:38:40     -143.481435        0.050531\n"},"key":"xJAzAHZk1o"},{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"LBFGS:   17 22:38:40     -143.481732        0.040589\n"},"key":"fUz29D4FI1"},{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":26,"metadata":{},"data":{"text/plain":{"content":"np.True_","content_type":"text/plain"}}},"key":"P3HrYeaXY5"}],"key":"n2FaWaw4l7"}],"key":"c62tkySyg7"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from ase.mep import NEBTools\n\nNEBTools(neb.images).plot_band();","key":"Gj582xRfgm"},{"type":"outputs","id":"sllCKSTtveSgkULRctWyQ","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"15597c1840531211caf287e66a3a5c9d","path":"/build/15597c1840531211caf287e66a3a5c9d.png"}}},"key":"Ps67WQRyXK"}],"key":"ovtkbACVYF"}],"key":"BDuF0HkEFI"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":599,"column":1},"end":{"line":599,"column":1}},"children":[{"type":"text","value":"This could be a good initial guess to initialize an NEB in DFT.","position":{"start":{"line":599,"column":1},"end":{"line":599,"column":1}},"key":"El3I2RS03T"}],"key":"nN3rB7Mpre"},{"type":"heading","depth":2,"position":{"start":{"line":602,"column":1},"end":{"line":602,"column":1}},"children":[{"type":"text","value":"Ideas for things you can do with UMA","position":{"start":{"line":602,"column":1},"end":{"line":602,"column":1}},"key":"HQ8ut3hI40"}],"identifier":"ideas-for-things-you-can-do-with-uma","label":"Ideas for things you can do with UMA","html_id":"ideas-for-things-you-can-do-with-uma","implicit":true,"key":"HHTldnbB0g"},{"type":"admonition","kind":"seealso","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Further Reading","position":{"start":{"line":604,"column":1},"end":{"line":604,"column":1}},"key":"JYFkFZIbJf"}],"key":"dgrxEQsjxp"},{"type":"paragraph","position":{"start":{"line":605,"column":1},"end":{"line":605,"column":1}},"children":[{"type":"text","value":"Here are some research papers demonstrating advanced UMA applications:","position":{"start":{"line":605,"column":1},"end":{"line":605,"column":1}},"key":"Qz6DuIu0qY"}],"key":"QACDmvv338"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":606,"column":1},"end":{"line":620,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":606,"column":1},"end":{"line":609,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":606,"column":1},"end":{"line":606,"column":1}},"children":[{"type":"strong","position":{"start":{"line":606,"column":1},"end":{"line":606,"column":1}},"children":[{"type":"text","value":"FineTuna","position":{"start":{"line":606,"column":1},"end":{"line":606,"column":1}},"key":"nqF4DnJ1h5"}],"key":"fu17Qs95R5"},{"type":"text","value":" - Use it for initial geometry optimizations then do DFT","position":{"start":{"line":606,"column":1},"end":{"line":606,"column":1}},"key":"r9YjmSfpqf"}],"key":"STmCjUbTsB"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":607,"column":1},"end":{"line":609,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":607,"column":1},"end":{"line":607,"column":1}},"children":[{"type":"paragraph","children":[{"type":"cite","url":"http://doi.org/10.1088/2632-2153/ac8fe0","position":{"start":{"line":607,"column":1},"end":{"line":607,"column":1}},"children":[{"type":"text","value":"DOI: 10.1088/2632-2153/ac8fe0","position":{"start":{"line":607,"column":1},"end":{"line":607,"column":1}},"key":"R3yD3Guf7Z"}],"kind":"narrative","label":"Musielewicz_2022","identifier":"http://doi.org/10.1088/2632-2153/ac8fe0","enumerator":"1","key":"jj26A6YwmI"}],"key":"LBIhPOihkx"}],"key":"oQzavWWAFX"},{"type":"listItem","spread":true,"position":{"start":{"line":608,"column":1},"end":{"line":609,"column":1}},"children":[{"type":"paragraph","children":[{"type":"cite","url":"http://doi.org/10.1088/2632-2153/ad37f0","position":{"start":{"line":608,"column":1},"end":{"line":608,"column":1}},"children":[{"type":"text","value":"DOI: 10.1088/2632-2153/ad37f0","position":{"start":{"line":608,"column":1},"end":{"line":608,"column":1}},"key":"hOHeENuqvU"}],"kind":"narrative","label":"Wang_2024","identifier":"http://doi.org/10.1088/2632-2153/ad37f0","enumerator":"2","key":"hMGFc5VRDv"}],"key":"Ig9JKwgnVp"}],"key":"d1UYdFfLok"}],"key":"hSihVjb4Jg"}],"key":"lNGe3mDnwK"},{"type":"listItem","spread":true,"position":{"start":{"line":610,"column":1},"end":{"line":612,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":610,"column":1},"end":{"line":610,"column":1}},"children":[{"type":"strong","position":{"start":{"line":610,"column":1},"end":{"line":610,"column":1}},"children":[{"type":"text","value":"AdsorbML","position":{"start":{"line":610,"column":1},"end":{"line":610,"column":1}},"key":"RXV6MTyk4B"}],"key":"dOPq1gZ3S3"},{"type":"text","value":" - Prescreen adsorption sites to find relevant ones","position":{"start":{"line":610,"column":1},"end":{"line":610,"column":1}},"key":"QtrSOutERi"}],"key":"w7LiyS3m4u"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":611,"column":1},"end":{"line":612,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":611,"column":1},"end":{"line":612,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://www.nature.com/articles/s41524-023-01121-5","position":{"start":{"line":611,"column":1},"end":{"line":611,"column":1}},"children":[{"type":"text","value":"Nature Computational Science (2023)","position":{"start":{"line":611,"column":1},"end":{"line":611,"column":1}},"key":"mw9Mqq1FU9"}],"urlSource":"https://www.nature.com/articles/s41524-023-01121-5","key":"DTohnNr3qg"}],"key":"Qa0pwY1QH9"}],"key":"dtq4pJL6aw"}],"key":"O7a34bvCqI"}],"key":"HWZkHUaoxY"},{"type":"listItem","spread":true,"position":{"start":{"line":613,"column":1},"end":{"line":615,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"children":[{"type":"strong","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"children":[{"type":"text","value":"CatTsunami","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"key":"ThJh6SC3ep"}],"key":"Cvj91YpsRZ"},{"type":"text","value":" - Screen NEBs more thoroughly","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"key":"XckXAKRLcn"}],"key":"xYefXVF7ig"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":614,"column":1},"end":{"line":615,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":614,"column":1},"end":{"line":615,"column":1}},"children":[{"type":"paragraph","children":[{"type":"cite","url":"https://pubs.acs.org/doi/10.1021/acscatal.4c04272","position":{"start":{"line":614,"column":1},"end":{"line":614,"column":1}},"children":[{"type":"text","value":"ACS Catalysis (2024)","position":{"start":{"line":614,"column":1},"end":{"line":614,"column":1}},"key":"bD761bpJnq"}],"kind":"narrative","label":"Wander_2025","identifier":"https://pubs.acs.org/doi/10.1021/acscatal.4c04272","enumerator":"3","key":"PXXJ6zjxKK"}],"key":"GfsanL7cOA"}],"key":"PIr6x1Uh3y"}],"key":"BkWxQS1HUk"}],"key":"k1ApqBRFS0"},{"type":"listItem","spread":true,"position":{"start":{"line":616,"column":1},"end":{"line":618,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":616,"column":1},"end":{"line":616,"column":1}},"children":[{"type":"strong","position":{"start":{"line":616,"column":1},"end":{"line":616,"column":1}},"children":[{"type":"text","value":"Free energy estimations","position":{"start":{"line":616,"column":1},"end":{"line":616,"column":1}},"key":"U6AATFI4mn"}],"key":"tBHb2TMbzZ"},{"type":"text","value":" - Compute vibrational modes for entropy","position":{"start":{"line":616,"column":1},"end":{"line":616,"column":1}},"key":"RZ6fPZsPCV"}],"key":"Lqc1v575ap"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":617,"column":1},"end":{"line":618,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":617,"column":1},"end":{"line":618,"column":1}},"children":[{"type":"paragraph","children":[{"type":"cite","url":"https://pubs.acs.org/doi/10.1021/acs.jpcc.4c07477","position":{"start":{"line":617,"column":1},"end":{"line":617,"column":1}},"children":[{"type":"text","value":"J. Phys. Chem. C (2024)","position":{"start":{"line":617,"column":1},"end":{"line":617,"column":1}},"key":"vquPQxBEN5"}],"kind":"narrative","label":"Wander_2025","identifier":"https://pubs.acs.org/doi/10.1021/acs.jpcc.4c07477","enumerator":"3","key":"rITkzqiFWr"}],"key":"LfMyY2xkFC"}],"key":"IGLNnKtipF"}],"key":"azxmiXtCma"}],"key":"yBF8qYgFIQ"},{"type":"listItem","spread":true,"position":{"start":{"line":619,"column":1},"end":{"line":620,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":619,"column":1},"end":{"line":619,"column":1}},"children":[{"type":"strong","position":{"start":{"line":619,"column":1},"end":{"line":619,"column":1}},"children":[{"type":"text","value":"Massive screening","position":{"start":{"line":619,"column":1},"end":{"line":619,"column":1}},"key":"UIeDclpepj"}],"key":"oW33W3JagV"},{"type":"text","value":" - 685M relaxations of catalyst surfaces","position":{"start":{"line":619,"column":1},"end":{"line":619,"column":1}},"key":"AkqqTWOAQY"}],"key":"WJNTxcOIa5"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":620,"column":1},"end":{"line":620,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":620,"column":1},"end":{"line":620,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://arxiv.org/abs/2411.11783","position":{"start":{"line":620,"column":1},"end":{"line":620,"column":1}},"children":[{"type":"text","value":"arXiv:2411.11783","position":{"start":{"line":620,"column":1},"end":{"line":620,"column":1}},"key":"eZmFHxmmcx"}],"urlSource":"https://arxiv.org/abs/2411.11783","key":"Erbc5xS9Tc"}],"key":"FaQ3kr6OlI"}],"key":"WuxqpFcZJP"}],"key":"I5WBn2V5rN"}],"key":"wE1lLpCsg7"}],"key":"pvhj1Pwdm0"}],"key":"ouCuDZsuOq"},{"type":"heading","depth":2,"position":{"start":{"line":624,"column":1},"end":{"line":624,"column":1}},"children":[{"type":"text","value":"Advanced applications","position":{"start":{"line":624,"column":1},"end":{"line":624,"column":1}},"key":"dw6uETWVu0"}],"identifier":"advanced-applications","label":"Advanced applications","html_id":"advanced-applications","implicit":true,"key":"kj262JTdet"},{"type":"paragraph","position":{"start":{"line":626,"column":1},"end":{"line":626,"column":1}},"children":[{"type":"text","value":"These take a while to run.","position":{"start":{"line":626,"column":1},"end":{"line":626,"column":1}},"key":"zOhXYfuYhr"}],"key":"qBQqWmoVX9"},{"type":"heading","depth":3,"position":{"start":{"line":629,"column":1},"end":{"line":629,"column":1}},"children":[{"type":"link","url":"/adsorbml-walkthrough","position":{"start":{"line":629,"column":1},"end":{"line":629,"column":1}},"children":[{"type":"text","value":"AdsorbML","position":{"start":{"line":629,"column":1},"end":{"line":629,"column":1}},"key":"c7opMpLTi3"}],"urlSource":"../catalysts/examples_tutorials/adsorbml_walkthrough.md","dataUrl":"/adsorbml-walkthrough.json","internal":true,"protocol":"file","key":"elClJVZk6e"}],"identifier":"adsorbml","label":"AdsorbML","html_id":"adsorbml","implicit":true,"key":"ST5aoEEYKE"},{"type":"paragraph","position":{"start":{"line":632,"column":1},"end":{"line":632,"column":1}},"children":[{"type":"text","value":"It is so cheap to run these calculations that we can screen a broad range of adsorbate sites and rank them in stability. The AdsorbML approach automates this. This takes quite a while to run here, and we don’t do it in the workshop.","position":{"start":{"line":632,"column":1},"end":{"line":632,"column":1}},"key":"mq5NY9zEmB"}],"key":"Dif0kldrS6"},{"type":"heading","depth":3,"position":{"start":{"line":635,"column":1},"end":{"line":635,"column":1}},"children":[{"type":"link","url":"/adsorption-energies","position":{"start":{"line":635,"column":1},"end":{"line":635,"column":1}},"children":[{"type":"text","value":"Expert adsorption energies","position":{"start":{"line":635,"column":1},"end":{"line":635,"column":1}},"key":"M9BIg2lVSu"}],"urlSource":"../catalysts/examples_tutorials/adsorption_energies/adsorption_energies.md","dataUrl":"/adsorption-energies.json","internal":true,"protocol":"file","key":"teu8S06l78"}],"identifier":"expert-adsorption-energies","label":"Expert adsorption energies","html_id":"expert-adsorption-energies","implicit":true,"key":"aJvzIRlGdH"},{"type":"paragraph","position":{"start":{"line":637,"column":1},"end":{"line":637,"column":1}},"children":[{"type":"text","value":"This tutorial reproduces Fig 6b from the following paper: Zhou, Jing, et al. “Enhanced Catalytic Activity of Bimetallic Ordered Catalysts for Nitrogen Reduction Reaction by Perturbation of Scaling Relations.” ACS Catalysis 134 (2023): 2190-2201 (","position":{"start":{"line":637,"column":1},"end":{"line":637,"column":1}},"key":"beJ4rsTbdj"},{"type":"cite","url":"https://doi.org/10.1021/acscatal.2c05877","position":{"start":{"line":637,"column":1},"end":{"line":637,"column":1}},"children":[{"type":"text","value":"Zhou ","key":"G4LIImhryU"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"jlAzpLa32c"}],"key":"eXAYlOXAmf"},{"type":"text","value":" (2023)","key":"u8yhkkkN3X"}],"kind":"narrative","label":"Zhou_2023","identifier":"https://doi.org/10.1021/acscatal.2c05877","enumerator":"4","key":"OTKLy64q03"},{"type":"text","value":").","position":{"start":{"line":637,"column":1},"end":{"line":637,"column":1}},"key":"HvdHwiVFq8"}],"key":"LtYFCHQGBY"},{"type":"paragraph","position":{"start":{"line":639,"column":1},"end":{"line":639,"column":1}},"children":[{"type":"text","value":"This takes up to an hour with a GPU, and much longer with a CPU.","position":{"start":{"line":639,"column":1},"end":{"line":639,"column":1}},"key":"uUs7MErrh6"}],"key":"slwtlckC2r"},{"type":"heading","depth":3,"position":{"start":{"line":641,"column":1},"end":{"line":641,"column":1}},"children":[{"type":"link","url":"/cattsunami-tutorial","position":{"start":{"line":641,"column":1},"end":{"line":641,"column":1}},"children":[{"type":"text","value":"CatTsunami","position":{"start":{"line":641,"column":1},"end":{"line":641,"column":1}},"key":"Fo38U2Tanp"}],"urlSource":"../catalysts/examples_tutorials/cattsunami_tutorial.md","dataUrl":"/cattsunami-tutorial.json","internal":true,"protocol":"file","key":"CwiL39lwv2"}],"identifier":"cattsunami","label":"CatTsunami","html_id":"cattsunami","implicit":true,"key":"VQwzjQE3Le"},{"type":"paragraph","position":{"start":{"line":643,"column":1},"end":{"line":643,"column":1}},"children":[{"type":"text","value":"The CatTsunami tutorial is an example of enumerating initial and final states, and computing reaction paths between them with UMA.","position":{"start":{"line":643,"column":1},"end":{"line":643,"column":1}},"key":"HxVgagvkPZ"}],"key":"QE5ztZJPGO"},{"type":"heading","depth":3,"position":{"start":{"line":645,"column":1},"end":{"line":645,"column":1}},"children":[{"type":"text","value":"Acknowledgements","position":{"start":{"line":645,"column":1},"end":{"line":645,"column":1}},"key":"gL3BFCG4iJ"}],"identifier":"acknowledgements","label":"Acknowledgements","html_id":"acknowledgements","implicit":true,"key":"fVXBNGvfrh"},{"type":"paragraph","position":{"start":{"line":647,"column":1},"end":{"line":647,"column":1}},"children":[{"type":"text","value":"This tutorial was originally compiled by John Kitchin (CMU) for the NAM29 catalysis tutorial session, using a variety of resources from the FAIR chemistry repository.","position":{"start":{"line":647,"column":1},"end":{"line":647,"column":1}},"key":"KPNN84Wiaz"}],"key":"Qf8jAit9pE"}],"key":"dBWwFUpyCy"}],"key":"aLClNweYAB"},"references":{"cite":{"order":["Musielewicz_2022","Wang_2024","Wander_2025","Zhou_2023"],"data":{"Musielewicz_2022":{"label":"Musielewicz_2022","enumerator":"1","doi":"10.1088/2632-2153/ac8fe0","html":"Musielewicz, J., Wang, X., Tian, T., & Ulissi, Z. (2022). FINETUNA: fine-tuning accelerated molecular simulations. <i>Machine Learning: Science and Technology</i>, <i>3</i>(3), 03LT01. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.1088/2632-2153/ac8fe0\">10.1088/2632-2153/ac8fe0</a>","url":"https://doi.org/10.1088/2632-2153/ac8fe0"},"Wang_2024":{"label":"Wang_2024","enumerator":"2","doi":"10.1088/2632-2153/ad37f0","html":"Wang, X., Musielewicz, J., Tran, R., Kumar Ethirajan, S., Fu, X., Mera, H., Kitchin, J. R., Kurchin, R. C., & Ulissi, Z. W. (2024). Generalization of graph-based active learning relaxation strategies across materials. <i>Machine Learning: Science and Technology</i>, <i>5</i>(2), 025018. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.1088/2632-2153/ad37f0\">10.1088/2632-2153/ad37f0</a>","url":"https://doi.org/10.1088/2632-2153/ad37f0"},"Wander_2025":{"label":"Wander_2025","enumerator":"3","doi":"10.1021/acs.jpcc.4c07477","html":"Wander, B., Musielewicz, J., Cheula, R., & Kitchin, J. R. (2025). Accessing Numerical Energy Hessians with Graph Neural Network Potentials and Their Application in Heterogeneous Catalysis. <i>The Journal of Physical Chemistry C</i>, <i>129</i>(7), 3510–3521. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.1021/acs.jpcc.4c07477\">10.1021/acs.jpcc.4c07477</a>","url":"https://doi.org/10.1021/acs.jpcc.4c07477"},"Zhou_2023":{"label":"Zhou_2023","enumerator":"4","doi":"10.1021/acscatal.2c05877","html":"Zhou, J., Chen, X., Guo, M., Hu, W., Huang, B., & Yuan, D. (2023). Enhanced Catalytic Activity of Bimetallic Ordered Catalysts for Nitrogen Reduction Reaction by Perturbation of Scaling Relations. <i>ACS Catalysis</i>, <i>13</i>(4), 2190–2201. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.1021/acscatal.2c05877\">10.1021/acscatal.2c05877</a>","url":"https://doi.org/10.1021/acscatal.2c05877"}}}},"footer":{"navigation":{"prev":{"title":"UMA Tutorials","url":"/summary-1","group":"AI/ML Models & Usage"},"next":{"title":"UMA Catalysis Tutorial","url":"/uma-catalysis-tutorial","group":"AI/ML Models & Usage"}}},"domain":"http://localhost:3000"}